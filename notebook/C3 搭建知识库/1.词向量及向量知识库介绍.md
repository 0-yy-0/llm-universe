# 词向量及向量知识库

## 一、词向量

### 1. 什么是词向量
![Embeddding](/figures/C3-1-embedding.png)
在机器学习和自然语言处理（NLP）中，词向量（Embeddings）是一种将类别数据，如单词、句子或者整个文档，转化为实数向量的技术。这些实数向量可以被计算机更好地理解和处理。嵌入背后的主要想法是，相似或相关的对象在嵌入空间中的距离应该很近。
![similar](/figures/C3-2-similar.png)
举个例子，我们可以使用词嵌入（word embeddings）来表示文本数据。在词嵌入中，每个单词被转换为一个向量，这个向量捕获了这个单词的语义信息。例如，"king" 和 "queen" 这两个单词在嵌入空间中的位置将会非常接近，因为它们的含义相似。而 "apple" 和 "orange" 也会很接近，因为它们都是水果。而 "king" 和 "apple" 这两个单词在嵌入空间中的距离就会比较远，因为它们的含义不同。
### 2. 词向量的优势
在RAG（Retrieval Augmented Generation）方面词向量的优势主要有两点：
* 词向量比文字更适合检索。当我们在数据库检索时，如果数据库存储的是文字，主要通过检索关键词（词法搜索）等方法找到相对匹配的数据，匹配的程度是取决于关键词的数量或者是否完全匹配查询句的；但是词向量中包含了原文本的语义信息，可以通过计算问题与数据库中数据的点积、余弦距离、欧几里得距离等指标，直接获取问题与数据在语义层面上的相似度；
* 词向量比其它媒介的综合信息能力更强，当传统数据库存储文字、声音、图像、视频等多种媒介时，很难去将上述多种媒介构建起关联与跨模态的查询方法；但是词向量却可以通过多种向量模型将多种数据映射成统一的向量形式。
### 3. 一般构建词向量的方法
在RAG方面一般有两种方法构建词向量：
* 通过使用各个公司的 Embedding API；
* 在本地使用嵌入模型将数据构建为词向量。
## 二、向量数据库

### 1. 什么是向量数据库
向量数据库是用于高效计算和管理大量向量数据的解决方案。向量数据库是一种专门用于存储和检索向量数据（embedding）的数据库系统。它与传统的基于关系模型的数据库不同，它主要关注的是向量数据的特性和相似性。

在向量数据库中，数据被表示为向量形式，每个向量代表一个数据项。这些向量可以是数字、文本、图像或其他类型的数据。向量数据库使用高效的索引和查询算法来加速向量数据的存储和检索过程。
### 2. 向量数据库的原理及核心优势
向量数据库中的数据以向量作为基本单位，对向量进行存储、处理及检索。向量数据库通过计算与目标向量的余弦距离、点积等获取与目标向量的相似度。当处理大量甚至海量的向量数据时，向量数据库索引和查询算法的效率明显高于传统数据库。
### 3. 主流的向量数据库
* [Chroma](https://www.trychroma.com/)：一个人工智能原生开源矢量数据库，专注于开发人员的生产力和幸福感。
* [Weaviate](https://weaviate.io/)：是一个开源矢量数据库。它允许您存储来自您最喜欢的 ML 模型的数据对象和向量嵌入，并无缝扩展到数十亿个数据对象。
* [Faiss](https://ai.meta.com/tools/faiss/)：是一个用于高效相似性搜索和密集向量聚类的库。它包含的算法可以搜索任意大小的向量集，甚至可能无法容纳在 RAM 中的向量集。它还包含用于评估和参数调整的支持代码。